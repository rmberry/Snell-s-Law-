#include<stdlib.h>
#include<stdio.h>
#include<math.h>

/** This program will evaluate the angle of refraction
  * using Snell's Law
  * reference to Snell's Law 
  * https://en.wikipedia.org/wiki/Snell%27s_law
  */

int main(int argc, char **argv) {



  double theta1, theta2, theta1rad, index2;
  int n1 = 1;

  const pi = 3.14159265;

  theta1 = atof(argv[1]);
  theta1rad = theta1 * (pi / 180.0);
  index2 = atof(argv[2]);

  if(index2 == 0) {
  printf("can't divide by zero\n");
  }

   else if(index2 < 0) {
   printf("can't have a negative speed\n");
   }

    else if(-1 <= ( (n1 * sin(theta1rad) ) / index2 ) && (1 >= ( (n1 * sin(theta1rad) ) / index2 ) ) ) {
    theta2 = asin( ( (n1 * sin(theta1rad) ) / index2 ) ) * (180.0 / pi);
    printf("The refractive index calculated is: %lf\n", theta2);
    }

     else {

     printf("Your input that you provided doesn't fit into the valid range of the arcsine function\n");

     }


  return 0;
